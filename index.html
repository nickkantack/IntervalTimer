<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Interval Timer</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="canonical" href="https://nickkantack.github.io/IntervalTimer/"/>
    <link rel="manifest" href="./intervalTimer.json" />
    <link rel="icon" href="./icon-192.png" />
  </head>
  <body>
    <h2 id="heading">Interval App</h2>

    <!-- Workout management bar -->
    <div id="workoutManagementBar">
      <div id="workoutTitleWrapper">
        <div id="workoutTitleLabel">Workout:</div>
        <div id="workoutTitleUneditable">Untitled workout</div>
        <input id="workoutTitle" value="Untitled workout"/>
      </div>
      <div id="workoutStorageControls">
        <button id="deleteWorkout" title="Delete workout">
          <svg viewBox="0 0 100 100">
            <path stroke="#666" fill="none" stroke-width="5px" d="M30 80 L25 35 H75 L70 80 Z"/>
            <path stroke="#666" fill="none" stroke-width="5px" d="M20 35 V25 H80 V35 Z"/>
            <path stroke="#666" fill="none" stroke-width="5px" d="M40 25 V15 H60 V25 Z"/>
            <path stroke="#666" fill="none" stroke-width="8px" d="M41 80 L39 50"/>
            <path stroke="#666" fill="none" stroke-width="8px" d="M59 80 L61 50"/>
          </svg>
        </button>
        <button id="loadWorkout" title="Load workout">
          <svg viewBox="0 0 100 65">
            <path stroke="#666" stroke-width="5px" fill="none" d="M10 10 V60 H70 V15 H40 L35 10 Z"/>
            <path stroke="#666" stroke-width="5px" fill="none" d="M70 57 L90 25 H70 Z"/>
          </svg>
        </button>
        <button id="saveWorkout" title="Save workout">
          <svg viewBox="0 0 100 80">
            <path stroke="#666" stroke-width="5px" fill="none" d="M20 70 H70 V20 L60 10 H20 Z"/>
            <path stroke="none" fill="#666" d="M30 40 H60 V10 H30 Z"/>
            <path stroke="none" fill="#222" d="M50 30 H55 V15 H50 Z"/>
            <path stroke="none" fill="#666" d="M30 70 H60 V60 H30 Z"/>
          </svg>
        </button>
        <button id="mute" title="Mute audio">
          <svg viewBox="0 0 100 80">
            <circle fill="#666" cx="53" cy="45" r="15"/>
            <path stroke="#666" stroke-width="5px" fill="#222" d="M10 60 V30 H30 L60 10 V80 L30 60 Z"/>
          </svg>
        </button>
        <button id="unmute" title="Unmute audio">
          <svg viewBox="0 0 100 80">
            <circle fill="#666" cx="53" cy="45" r="15"/>
            <path stroke="#666" stroke-width="5px" fill="#222" d="M10 60 V30 H30 L60 10 V80 L30 60 Z"/>
            <path stroke="#222" stroke-width="15px" d="M15 86 L75 4"/>
            <path stroke="#666" stroke-width="5px" d="M15 86 L75 4"/>
          </svg>
        </button>
        <button id="openWorkoutPlayer" title="Open player view">
          <svg viewBox="0 0 100 80">
            <path stroke="#666" fill="none" stroke-width="5px" d="M20 70 A10,10 0 0 1 10,60 V20 A10,10 0 0 1 20,10 H80 A10,10 0 0 1 90,20 V60 A10,10 0 0 1 80,70 Z"/>
            <path stroke="none" fill="#666" d="M45 60 H20 V35 Z"/>
            <path stroke="none" fill="#666" d="M55 20 H80 V45 Z"/>
          </svg>
        </button>
      </div>
    </div>

    <br/>
    <br/>
    <div id="workoutEditor">
      <div id="controlBar">
        <button id="play" title="Start workout">
          <svg viewBox="0 0 100 100">
            <path stroke="none" fill="#666" d="M20 20 V80 L80 50 Z"/>
          </svg>
        </button>
        <button id="pause" title="Pause workout">
          <svg viewBox="0 0 100 100">
            <path stroke="none" fill="#666" d="M20 20 V80 H40 V20 Z"/>
            <path stroke="none" fill="#666" d="M60 20 V80 H80 V20 Z"/>
          </svg>
        </button>
        <button id="stop" title="Stop workout">
          <svg viewBox="0 0 100 100">
            <path stroke="none" fill="#666" d="M20 20 V80 H80 V20 Z"/>
          </svg>
        </button>
      </div>
      <div id="setList">
        <button id="addSet" title="Add new set">
          <svg viewBox="0 0 100 100">
            <path stroke="#666" stroke-width="16px" fill="none" d="M10 50 H90"/>
            <path stroke="#666" stroke-width="16px" fill="none" d="M50 90 V10"/>
          </svg>
        </button>
      </div>
    </div>

    <div id="workoutPlayer" class="workoutPlayer">
      <div id="workoutPlayerText">
        <div id="currentSetName">current set</div>
        <div id="currentSetTimeLeft">1:23</div>
        <div id="upNextLabel">up next:</div>
        <div id="nextSetName">next set</div>
        <div id="workoutPlayerControls">
          <button id="workoutPlayerBack" title="Restart previous set">
            <svg viewBox="0 0 100 100">
              <path stroke="none" fill="#666" d="M10 80 V20 H20 V80 Z"/>
              <path stroke="none" fill="#666" d="M30 50 L80 20 V80 Z"/>
            </svg>
          </button>
          <button id="workoutPlayerPause" title="Pause timer">
            <svg viewBox="0 0 100 100">
              <path stroke="none" fill="#666" d="M20 20 V80 H40 V20 Z"/>
              <path stroke="none" fill="#666" d="M60 20 V80 H80 V20 Z"/>
            </svg>
          </button>
          <button id="workoutPlayerPlay" title="Resume workout">
            <svg viewBox="0 0 100 100">
              <path stroke="none" fill="#666" d="M20 20 V80 L80 50 Z"/>
            </svg>
          </button>
          <button id="workoutPlayerNext" title="Skip to next set">
            <svg viewBox="0 0 100 100">
              <path stroke="none" fill="#666" d="M80 80 V20 H90 V80 Z"/>
              <path stroke="none" fill="#666" d="M70 50 L20 20 V80 Z"/>
            </svg>
          </button>
        </div>
      </div>
      <button id="backToEditor">
        <svg viewBox="0 0 100 100">
          <path stroke="none" fill="#666" d="M0 50 L50 0 V20 H100 V80 H50 V100 Z"/>
        </svg>
      </button>
    </div>

    <div id="workoutLoadPage">
      <select id="workoutSelect"></select>
      <button id="loadWorkoutCancel">Cancel</button>
    </div>

    <div id="noWorkoutsToLoadDialog" class="justOkDialog dialog">
      <p>
        There are no workouts saved on this device. You will need to save a workout before you can 
        use the load feature.
      </p>
    </div>

    <div id="toast" class="toast"></div>

    <template id="setTemplate">
      <div class="setDiv">
        <input class="setName" placeholder="Enter name of set"/>
        <select class="setSelect"></select>
        <button class="editSet" title="Copy details from other set">
          <svg viewBox="0 0 100 100">
            <path stroke="#666" stroke-width="14px" d="M20 80 L55 45"/>
            <path stroke="#666" stroke-width="14px" d="M60 40 L75 25"/>
            <path stroke="#666" stroke-width="6px" d="M35 25 H50"/>
            <path stroke="#666" stroke-width="6px" d="M85 35 H100"/>
            <path stroke="#666" stroke-width="6px" d="M60 15 V0"/>
            <path stroke="#666" stroke-width="6px" d="M75 48 V63"/>
          </svg>
        </button>
        <input class="allocatedTime" value="2:00"/>
        <span class="forwardSlash">/</span>
        <input class="timeLeft" value=""/>
        <button class="insertAbove" title="Add a set before this one">
          <svg viewBox="0 0 100 100">
            <path stroke="none" fill="#666" d="M30 50 V30 H10 L50 0 L90 30 H70 V50 Z"/>
            <path stroke="#666" stroke-width="10px" fill="none" d="M32.5 72.5 H67.5"/>
            <path stroke="#666" stroke-width="10px" fill="none" d="M50 90 V55"/>
          </svg>
        </button>
        <button class="deleteButton" title="Delete set">
          <svg viewBox="0 0 100 100">
            <path stroke="#666" stroke-width="10px" d="M20 20 L80 80 M20 80 L80 20"/>
          </svg>
        </button>
      </div>
    </template>

    <audio id="beepHigh" src="./beep-high.wav" type="audio/wav"></audio>
    <audio id="beepLow" src="./beep-low.wav" type="audio/wav"></audio>

    <script src="./workoutSerializer.js" defer></script>
    <script src="./dialogEquipper.js" defer></script>
    <script src="./toaster.js" defer></script>
    <script src="./app.js" defer></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("/IntervalTimer/sw.js",
        { scope: "/IntervalTimer/" });
      }
    </script>
  </body>
</html>